CREATE TABLE IF NOT EXISTS match_reports (
    id serial PRIMARY KEY,
    created timestamp DEFAULT now(),
    home_team text NOT NULL,
    home_coach text NOT NULL,
    home_race text NOT NULL,
    home_colour text NOT NULL,
    home_score integer NOT NULL,
    away_team text NOT NULL,
    away_coach text NOT NULL,
    away_race text NOT NULL,
    away_colour text NOT NULL,
    away_score integer NOT NULL
);

CREATE TABLE IF NOT EXISTS templates (
    id serial PRIMARY KEY,
    created timestamp DEFAULT now(),
    name text NOT NULL,
    svg xml NOT NULL
);

CREATE TABLE IF NOT EXISTS images (
    id serial PRIMARY KEY,
    report_id integer NOT NULL REFERENCES match_reports(id) ON UPDATE CASCADE ON DELETE CASCADE,
    template_id integer NOT NULL REFERENCES templates(id) ON UPDATE CASCADE ON DELETE RESTRICT,
    svg xml NOT NULL
);
